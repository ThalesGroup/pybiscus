import matplotlib.pyplot as plt

# Vos donn√©es
x_values = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
client1_loss = [0.04296727142205807, 0.01294124155085056, 0.0060376465801808155, 0.006134908104623813, 0.0027216541209161304, 0.0020910648284452158, 0.003942802971302323, 0.0023536003352606534, 0.0022719812786379757, 0.002142721913191748, 0.0013531572510722075, 0.002214689800624515, 0.0017801028207666742, 0.0019692682451771734, 0.002236756614499855, 0.002109797470994614, 0.002564211297133037, 0.0021647736840644484, 0.002414861740119419, 0.0023962169539346245]
client2_loss = [0.03877475128260085, 0.008022732131389524, 0.006174766245351261, 0.007935716432772138, 0.005053422024706247, 0.004904973717971117, 0.003978855135587901, 0.003612303283791733, 0.0030554997403840095, 0.0032213290739419834, 0.0040781228109563845, 0.002507168519590471, 0.002474139520843248, 0.0029755980375185394, 0.002637974429060003, 0.002736476715232549, 0.0024942545881626275, 0.002973253277140691, 0.002466768167078025, 0.002292986747014859]

client1_HE_loss= [0.04470273274326805, 0.012894646854838574, 0.0066210143476730186, 0.005841841440336994, 0.002290758974060892, 0.002080168752637771, 0.0023379438424255892, 0.0034529526735519837, 0.002562901269903016, 0.00223211519190576, 0.0014928564090919195, 0.0017617228986195781, 0.0016201936111524195, 0.002429953959520437, 0.0027058517023865183, 0.0020085651522903838, 0.0021089539160257633, 0.0017803452589615987, 0.0016537725697488867, 0.0022997130088040097]
client2_HE_loss= [0.037491904020264526, 0.008341232869603527, 0.006559813590988795, 0.006680807883535173, 0.004425463536748986, 0.004393187901333314, 0.0038829577915807083, 0.004003392069526641, 0.003664898932278816, 0.002904183761096841, 0.0039357040998986926, 0.00357089050706695, 0.0038617456957732266, 0.00250721399000139, 0.003266953788933095, 0.00318337958785887, 0.0030759846433374254, 0.0034532728035947782, 0.0032371757228469005, 0.0027039326781262813]
# Tracer le graphique
plt.plot(x_values, client1_loss,color="#d62728", label='Client 1')
plt.plot(x_values, client1_HE_loss,linestyle='dashed',color="#d6272855", label='Client 1 Paillier-HE')
plt.plot(x_values, client2_loss,color="#1f77b4", label='Client 2')
plt.plot(x_values, client2_HE_loss,linestyle='dashed',color="#1f77b455", label='Client 2 Paillier-HE')

plt.xlabel('Rounds')
plt.ylabel('Loss')
plt.legend()
x_ticks = [x for x in x_values if x % 2 == 0] 
plt.xticks(x_ticks)
# Enregistrer le graphique
plt.savefig('Loss_all_Mnist_Lenet.png', dpi=300)
plt.show()
